import{c as S,j as t,H as T,L as N}from"./app-DqdLS_po.js";import{g as H,s as C}from"./SaleController-CWOAsHby.js";import{B as y}from"./badge-DSvvMiB9.js";import{B as v}from"./button-DVQP8ugw.js";import{b as L,c as F}from"./card-z2brvHDy.js";import{b as g,e as r,a as D,c as l,T as R,d as w}from"./table-vmIBx53R.js";import{aH as z,A as B}from"./app-layout-BY_z2l7K.js";import{S as M}from"./store-B14O_uPo.js";import{E as A}from"./eye-DsB2PTHw.js";/* empty css            */import"./index-CJ7mWlm-.js";import"./index-CSEUMRIG.js";import"./index-CxeexwSe.js";import"./index-oTu_XNBi.js";import"./Combination-CjQPbJWN.js";import"./index-BY9hahA7.js";import"./x-C_vLIVyO.js";import"./index-CHdNXJ1h.js";import"./index-B_e8Ugpt.js";import"./app-logo-icon-BquCEMUK.js";import"./building-2-q9KNC_Mq.js";import"./warehouse-CXlB-vPY.js";import"./square-user-BhCGZFIc.js";import"./truck-D0hplmIV.js";const E=[{title:"Dashboard",href:"/dashboard"},{title:"Point de vente",href:"/pos"},{title:"Historique caisses",href:C().url}];function q(s){return new Date(s).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}function _(s){return new Date(s).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}function b(s){return Number(s??0).toLocaleString("fr-FR")}function me(s){const e=S.c(24),{sessions:a}=s;let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(T,{title:"Historique des caisses"}),e[0]=x):x=e[0];let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx("h1",{className:"text-2xl font-bold",children:"Historique des caisses"}),e[1]=h):h=e[1];const j=a.total>1?"s":"";let i;e[2]!==a.total||e[3]!==j?(i=t.jsxs("div",{children:[h,t.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.total," session",j," de caisse"]})]}),e[2]=a.total,e[3]=j,e[4]=i):i=e[4];let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(z,{className:"mr-1 size-3"}),e[5]=u):u=e[5];let n;e[6]!==a.current_page||e[7]!==a.last_page?(n=t.jsxs(y,{variant:"outline",children:[u,"Page ",a.current_page,"/",a.last_page]}),e[6]=a.current_page,e[7]=a.last_page,e[8]=n):n=e[8];let o;e[9]!==i||e[10]!==n?(o=t.jsxs("div",{className:"flex items-center justify-between",children:[i,n]}),e[9]=i,e[10]=n,e[11]=o):o=e[11];let f;e[12]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(D,{children:t.jsxs(g,{children:[t.jsx(l,{children:"N° Session"}),t.jsx(l,{children:"Date"}),t.jsx(l,{children:"Magasin"}),t.jsx(l,{children:"Caissier"}),t.jsx(l,{children:"Ouverture"}),t.jsx(l,{children:"Fermeture"}),t.jsx(l,{className:"text-right",children:"Montant initial"}),t.jsx(l,{className:"text-right",children:"Ventes"}),t.jsx(l,{className:"text-right",children:"Total ventes"}),t.jsx(l,{children:"État"}),t.jsx(l,{className:"text-right",children:"Actions"})]})}),e[12]=f):f=e[12];let c;e[13]!==a.data?(c=a.data.length===0?t.jsx(g,{children:t.jsx(r,{colSpan:11,className:"py-10 text-center text-muted-foreground",children:"Aucune session de caisse"})}):a.data.map(O),e[13]=a.data,e[14]=c):c=e[14];let d;e[15]!==c?(d=t.jsx(L,{children:t.jsx(F,{className:"p-0",children:t.jsxs(R,{children:[f,t.jsx(w,{children:c})]})})}),e[15]=c,e[16]=d):d=e[16];let m;e[17]!==a.last_page||e[18]!==a.links?(m=a.last_page>1&&t.jsx("div",{className:"flex justify-center gap-1",children:a.links.map(I)}),e[17]=a.last_page,e[18]=a.links,e[19]=m):m=e[19];let p;return e[20]!==d||e[21]!==m||e[22]!==o?(p=t.jsxs(B,{breadcrumbs:E,children:[x,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-6",children:[o,d,m]})]}),e[20]=d,e[21]=m,e[22]=o,e[23]=p):p=e[23],p}function I(s,e){return t.jsx(v,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,asChild:!!s.url,children:s.url?t.jsx(N,{href:s.url,dangerouslySetInnerHTML:{__html:s.label}}):t.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},e)}function O(s){return t.jsxs(g,{children:[t.jsxs(r,{className:"font-mono text-sm",children:["#",s.session_number]}),t.jsx(r,{children:q(s.opened_at)}),t.jsx(r,{children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(M,{className:"size-3 text-muted-foreground"}),s.shop.name]})}),t.jsx(r,{children:s.cashier.name}),t.jsx(r,{children:_(s.opened_at)}),t.jsx(r,{children:s.closed_at?_(s.closed_at):t.jsx("span",{className:"text-xs text-muted-foreground",children:"—"})}),t.jsxs(r,{className:"text-right font-medium",children:[b(s.opening_amount)," F"]}),t.jsx(r,{className:"text-right",children:s.sales_count}),t.jsxs(r,{className:"text-right font-bold text-green-600",children:[b(s.sales_sum_total)," F"]}),t.jsx(r,{children:t.jsx(y,{variant:s.status==="open"?"default":"secondary",children:s.status==="open"?"Ouverte":"Fermée"})}),t.jsx(r,{className:"text-right",children:t.jsx(v,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(N,{href:H(s.id).url,children:t.jsx(A,{className:"size-4"})})})})]},s.id)}export{me as default};
