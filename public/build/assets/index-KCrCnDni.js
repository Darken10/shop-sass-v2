import{c as v,j as t,L as y,H as _,a as z}from"./app-DqdLS_po.js";import{n as N,A as S,o as w,m as C}from"./app-layout-BY_z2l7K.js";import{B as A}from"./badge-DSvvMiB9.js";import{B as h}from"./button-DVQP8ugw.js";import{b as L,c as k}from"./card-z2brvHDy.js";import{S as R}from"./separator-DGAiZpJH.js";import{P as b}from"./plus-fUC_Frcj.js";import{A as g}from"./arrow-left-right-B9uWZ_jO.js";import{E as D}from"./eye-DsB2PTHw.js";/* empty css            */import"./index-CJ7mWlm-.js";import"./index-CxeexwSe.js";import"./index-oTu_XNBi.js";import"./Combination-CjQPbJWN.js";import"./index-BY9hahA7.js";import"./x-C_vLIVyO.js";import"./index-CSEUMRIG.js";import"./SaleController-CWOAsHby.js";import"./index-CHdNXJ1h.js";import"./index-B_e8Ugpt.js";import"./app-logo-icon-BquCEMUK.js";import"./building-2-q9KNC_Mq.js";import"./warehouse-CXlB-vPY.js";import"./store-B14O_uPo.js";import"./square-user-BhCGZFIc.js";import"./truck-D0hplmIV.js";const E=[{title:"Dashboard",href:"/dashboard"},{title:"Mouvements de stock",href:C().url}],M={purchase_entry:{label:"Entrée achat",variant:"default"},supplier_return:{label:"Retour fournisseur",variant:"destructive"},store_transfer:{label:"Transfert magasin",variant:"secondary"},loss:{label:"Perte",variant:"destructive"},internal_transfer:{label:"Transfert interne",variant:"outline"},adjustment:{label:"Ajustement",variant:"secondary"}};function ce(s){const e=v.c(21),{movements:r}=s;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(_,{title:"Mouvements de stock"}),e[0]=o):o=e[0];let c,m;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-primary/10",children:t.jsx(g,{className:"size-5 text-primary"})}),m=t.jsx("h1",{className:"text-xl font-semibold",children:"Mouvements de stock"}),e[1]=c,e[2]=m):(c=e[1],m=e[2]);const f=r.total!==1?"s":"",j=r.total!==1?"s":"";let a;e[3]!==r.total||e[4]!==f||e[5]!==j?(a=t.jsxs("div",{className:"flex items-center gap-3",children:[c,t.jsxs("div",{children:[m,t.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.total," mouvement",f," enregistré",j]})]})]}),e[3]=r.total,e[4]=f,e[5]=j,e[6]=a):a=e[6];let d;e[7]===Symbol.for("react.memo_cache_sentinel")?(d=N(),e[7]=d):d=e[7];let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(h,{asChild:!0,size:"sm",children:t.jsxs(y,{href:d.url,prefetch:!0,children:[t.jsx(b,{className:"size-4"}),"Nouveau mouvement"]})}),e[8]=x):x=e[8];let l;e[9]!==a?(l=t.jsxs("div",{className:"flex items-center justify-between",children:[a,x]}),e[9]=a,e[10]=l):l=e[10];let u;e[11]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(R,{}),e[11]=u):u=e[11];let i;e[12]!==r.data?(i=r.data.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 rounded-xl border border-dashed py-20 text-center",children:[t.jsx(g,{className:"size-12 text-muted-foreground/40"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Aucun mouvement de stock"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Les mouvements de stock apparaîtront ici."})]}),t.jsx(h,{asChild:!0,size:"sm",variant:"outline",children:t.jsxs(y,{href:N().url,children:[t.jsx(b,{className:"size-4"}),"Créer un mouvement"]})})]}):t.jsx(L,{children:t.jsx(k,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b bg-muted/40 text-left text-muted-foreground",children:[t.jsx("th",{className:"px-4 py-3 font-medium",children:"Référence"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Type"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Produit"}),t.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Quantité"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Source"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Destination"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:r.data.map(P)})]})})})}),e[12]=r.data,e[13]=i):i=e[13];let n;e[14]!==r.last_page||e[15]!==r.links?(n=r.last_page>1&&t.jsx("div",{className:"flex items-center justify-center gap-1",children:r.links.map(B)}),e[14]=r.last_page,e[15]=r.links,e[16]=n):n=e[16];let p;return e[17]!==i||e[18]!==n||e[19]!==l?(p=t.jsxs(S,{breadcrumbs:E,children:[o,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[l,u,i,n]})]}),e[17]=i,e[18]=n,e[19]=l,e[20]=p):p=e[20],p}function B(s,e){return t.jsx(h,{variant:s.active?"default":"outline",size:"sm",className:"min-w-9",disabled:!s.url,onClick:()=>s.url&&z.visit(s.url),dangerouslySetInnerHTML:{__html:s.label}},e)}function P(s){const e=M[s.type]??{label:s.type,variant:"outline"};return t.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[t.jsx("td",{className:"px-4 py-3 font-mono text-xs font-medium",children:s.reference}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(A,{variant:e.variant,children:e.label})}),t.jsx("td",{className:"px-4 py-3",children:s.product.name}),t.jsx("td",{className:"px-4 py-3 text-right font-semibold",children:s.quantity}),t.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:s.source_warehouse?.name??"—"}),t.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:s.destination_warehouse?.name??"—"}),t.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(s.created_at).toLocaleDateString("fr-FR")}),t.jsx("td",{className:"px-4 py-3 text-right",children:t.jsx(h,{asChild:!0,variant:"ghost",size:"icon",className:"size-8",children:t.jsx(y,{href:w(s.id).url,children:t.jsx(D,{className:"size-3.5"})})})})]},s.id)}export{ce as default};
