import{c as w,j as e,L as j,H as C,a as g}from"./app-DqdLS_po.js";import{Z as y,X as N,A as z,_ as b,V as S}from"./app-layout-BY_z2l7K.js";import{B as v}from"./badge-DSvvMiB9.js";import{B as h}from"./button-DVQP8ugw.js";import{b as E,c as L}from"./card-z2brvHDy.js";import{S as A}from"./separator-DGAiZpJH.js";import{P as _}from"./plus-fUC_Frcj.js";import{E as R}from"./eye-DsB2PTHw.js";/* empty css            */import"./index-CJ7mWlm-.js";import"./index-CxeexwSe.js";import"./index-oTu_XNBi.js";import"./Combination-CjQPbJWN.js";import"./index-BY9hahA7.js";import"./x-C_vLIVyO.js";import"./index-CSEUMRIG.js";import"./SaleController-CWOAsHby.js";import"./index-CHdNXJ1h.js";import"./index-B_e8Ugpt.js";import"./app-logo-icon-BquCEMUK.js";import"./building-2-q9KNC_Mq.js";import"./warehouse-CXlB-vPY.js";import"./store-B14O_uPo.js";import"./square-user-BhCGZFIc.js";import"./truck-D0hplmIV.js";const T=[{title:"Dashboard",href:"/dashboard"},{title:"Transferts",href:S().url}],D={warehouse_to_shop:"Entrepôt → Magasin",warehouse_to_warehouse:"Entrepôt → Entrepôt"},B={pending:{label:"En attente",variant:"outline"},approved:{label:"Approuvé",variant:"default"},in_transit:{label:"En transit",variant:"secondary"},delivered:{label:"Livré",variant:"default"},rejected:{label:"Rejeté",variant:"destructive"},cancelled:{label:"Annulé",variant:"secondary"}};function ce(s){const t=w.c(20),{transfers:a}=s;let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsx(C,{title:"Transferts"}),t[0]=o):o=t[0];let c,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-primary/10",children:e.jsx(N,{className:"size-5 text-primary"})}),d=e.jsx("h1",{className:"text-xl font-semibold",children:"Transferts"}),t[1]=c,t[2]=d):(c=t[1],d=t[2]);const f=a.total!==1?"s":"";let r;t[3]!==f||t[4]!==a.total?(r=e.jsxs("div",{className:"flex items-center gap-3",children:[c,e.jsxs("div",{children:[d,e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.total," transfert",f]})]})]}),t[3]=f,t[4]=a.total,t[5]=r):r=t[5];let m;t[6]===Symbol.for("react.memo_cache_sentinel")?(m=y(),t[6]=m):m=t[6];let p;t[7]===Symbol.for("react.memo_cache_sentinel")?(p=e.jsx(h,{asChild:!0,size:"sm",children:e.jsxs(j,{href:m.url,prefetch:!0,children:[e.jsx(_,{className:"size-4"}),"Nouveau transfert"]})}),t[7]=p):p=t[7];let l;t[8]!==r?(l=e.jsxs("div",{className:"flex items-center justify-between",children:[r,p]}),t[8]=r,t[9]=l):l=t[9];let x;t[10]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsx(A,{}),t[10]=x):x=t[10];let i;t[11]!==a.data?(i=a.data.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 rounded-xl border border-dashed py-20 text-center",children:[e.jsx(N,{className:"size-12 text-muted-foreground/40"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Aucun transfert"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Les transferts apparaîtront ici."})]}),e.jsx(h,{asChild:!0,size:"sm",variant:"outline",children:e.jsxs(j,{href:y().url,children:[e.jsx(_,{className:"size-4"}),"Créer un transfert"]})})]}):e.jsx(E,{children:e.jsx(L,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/40 text-left text-muted-foreground",children:[e.jsx("th",{className:"px-4 py-3 font-medium",children:"Référence"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Type"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Statut"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Source"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Destination"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Créé par"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:a.data.map(H)})]})})})}),t[11]=a.data,t[12]=i):i=t[12];let n;t[13]!==a.last_page||t[14]!==a.links?(n=a.last_page>1&&e.jsx("div",{className:"flex items-center justify-center gap-1",children:a.links.map(k)}),t[13]=a.last_page,t[14]=a.links,t[15]=n):n=t[15];let u;return t[16]!==i||t[17]!==n||t[18]!==l?(u=e.jsxs(z,{breadcrumbs:T,children:[o,e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[l,x,i,n]})]}),t[16]=i,t[17]=n,t[18]=l,t[19]=u):u=t[19],u}function k(s,t){return e.jsx(h,{variant:s.active?"default":"outline",size:"sm",className:"min-w-9",disabled:!s.url,onClick:()=>s.url&&g.visit(s.url),dangerouslySetInnerHTML:{__html:s.label}},t)}function H(s){const t=B[s.status]??{label:s.status,variant:"outline"},a=s.type==="warehouse_to_shop"?s.destination_shop?.name:s.destination_warehouse?.name;return e.jsxs("tr",{className:"cursor-pointer border-b last:border-0 hover:bg-muted/20",onClick:()=>g.visit(b(s.id).url),children:[e.jsx("td",{className:"px-4 py-3 font-mono text-xs font-medium",children:s.reference}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(v,{variant:"outline",children:D[s.type]??s.type})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(v,{variant:t.variant,children:t.label})}),e.jsx("td",{className:"px-4 py-3",children:s.source_warehouse?.name??"—"}),e.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:a??"—"}),e.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:s.created_by?.name??"—"}),e.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(s.created_at).toLocaleDateString("fr-FR")}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx(h,{asChild:!0,variant:"ghost",size:"icon",className:"size-8",children:e.jsx(j,{href:b(s.id).url,onClick:P,children:e.jsx(R,{className:"size-3.5"})})})})]},s.id)}function P(s){return s.stopPropagation()}export{ce as default};
