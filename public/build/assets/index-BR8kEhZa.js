import{c as $,r as O,j as s,L,a as X,H as G}from"./app-DqdLS_po.js";import{ak as K,al as J,am as Q,an as U,A as W,ai as Y}from"./app-layout-BY_z2l7K.js";import{B as A}from"./badge-DSvvMiB9.js";import{B as i}from"./button-DVQP8ugw.js";import{b as Z,c as ee,d as se}from"./card-z2brvHDy.js";import{D as te,a as ae,b as le,c as ie,d as re,e as ne}from"./dialog-DIwoh3XE.js";import{S as oe}from"./separator-DGAiZpJH.js";import{P as V}from"./plus-fUC_Frcj.js";import{P as I}from"./index-CxeexwSe.js";import{E as ce}from"./eye-DsB2PTHw.js";import{S as me}from"./square-pen-CLVAS-zk.js";import{T as de}from"./trash-2-BLXb_zlu.js";/* empty css            */import"./index-CJ7mWlm-.js";import"./x-C_vLIVyO.js";import"./index-oTu_XNBi.js";import"./Combination-CjQPbJWN.js";import"./index-BY9hahA7.js";import"./index-CSEUMRIG.js";import"./SaleController-CWOAsHby.js";import"./index-CHdNXJ1h.js";import"./index-B_e8Ugpt.js";import"./app-logo-icon-BquCEMUK.js";import"./building-2-q9KNC_Mq.js";import"./warehouse-CXlB-vPY.js";import"./store-B14O_uPo.js";import"./square-user-BhCGZFIc.js";import"./truck-D0hplmIV.js";const xe=[{title:"Dashboard",href:"/dashboard"},{title:"Produits",href:Y().url}],fe={active:{label:"Actif",variant:"default"},inactive:{label:"Inactif",variant:"secondary"}},ue={piece:"Pièce",kilogram:"Kilogramme",liter:"Litre",meter:"Mètre",square_meter:"Mètre²",cubic_meter:"Mètre³",pack:"Pack",box:"Boîte"};function Xe(l){const e=$.c(46),{products:a}=l,[n,v]=O.useState(null),[r,R]=O.useState(!1);let N;e[0]!==n?(N=function(){n&&(R(!0),X.delete(U(n.id).url,{onFinish:()=>{R(!1),v(null)}}))},e[0]=n,e[1]=N):N=e[1];const T=N;let b;e[2]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(G,{title:"Produits"}),e[2]=b):b=e[2];let y,_;e[3]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-primary/10",children:s.jsx(I,{className:"size-5 text-primary"})}),_=s.jsx("h1",{className:"text-xl font-semibold",children:"Produits"}),e[3]=y,e[4]=_):(y=e[3],_=e[4]);const B=a.total!==1?"s":"",E=a.total!==1?"s":"";let o;e[5]!==a.total||e[6]!==B||e[7]!==E?(o=s.jsxs("div",{className:"flex items-center gap-3",children:[y,s.jsxs("div",{children:[_,s.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.total," produit",B," enregistré",E]})]})]}),e[5]=a.total,e[6]=B,e[7]=E,e[8]=o):o=e[8];let S;e[9]===Symbol.for("react.memo_cache_sentinel")?(S=K(),e[9]=S):S=e[9];let z;e[10]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx(i,{asChild:!0,size:"sm",children:s.jsxs(L,{href:S.url,prefetch:!0,children:[s.jsx(V,{className:"size-4"}),"Nouveau produit"]})}),e[10]=z):z=e[10];let c;e[11]!==o?(c=s.jsxs("div",{className:"flex items-center justify-between",children:[o,z]}),e[11]=o,e[12]=c):c=e[12];let C;e[13]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(oe,{}),e[13]=C):C=e[13];let m;e[14]!==a.data?(m=a.data.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 rounded-xl border border-dashed py-20 text-center",children:[s.jsx(I,{className:"size-12 text-muted-foreground/40"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Aucun produit trouvé"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par créer votre premier produit."})]}),s.jsx(i,{asChild:!0,size:"sm",variant:"outline",children:s.jsxs(L,{href:K().url,children:[s.jsx(V,{className:"size-4"}),"Créer un produit"]})})]}):s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:a.data.map(t=>{const q=fe[t.status]??{label:t.status,variant:"outline"};return s.jsxs(Z,{className:"flex flex-col overflow-hidden transition-shadow hover:shadow-md",children:[s.jsxs("div",{className:"relative h-32 bg-muted",children:[t.image?s.jsx("img",{src:t.image,alt:t.name,className:"size-full object-cover"}):s.jsx("div",{className:"flex size-full items-center justify-center",children:s.jsx(I,{className:"size-10 text-muted-foreground/30"})}),s.jsx("div",{className:"absolute right-2 top-2",children:s.jsx(A,{variant:q.variant,children:q.label})})]}),s.jsxs(ee,{className:"flex flex-1 flex-col gap-2 pt-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"truncate font-semibold leading-tight",children:t.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t.code})]}),s.jsxs("div",{className:"flex items-baseline justify-between",children:[s.jsx("span",{className:"text-lg font-bold text-primary",children:Number(t.price).toLocaleString("fr-FR",{style:"currency",currency:"XOF"})}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",ue[t.unity]??t.unity]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Stock: ",t.stock]}),t.stock<=t.stock_alert&&s.jsx(A,{variant:"destructive",className:"text-[10px]",children:"Alerte"})]}),t.category&&s.jsx(A,{variant:"outline",className:"w-fit text-[10px]",children:t.category.name}),t.tags&&t.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map(pe)})]}),s.jsxs(se,{className:"gap-1 border-t p-2",children:[s.jsx(i,{asChild:!0,variant:"ghost",size:"sm",className:"flex-1",children:s.jsxs(L,{href:J(t.id).url,prefetch:!0,children:[s.jsx(ce,{className:"size-3.5"}),"Voir"]})}),s.jsx(i,{asChild:!0,variant:"ghost",size:"sm",className:"flex-1",children:s.jsxs(L,{href:Q(t.id).url,prefetch:!0,children:[s.jsx(me,{className:"size-3.5"}),"Modifier"]})}),s.jsxs(i,{variant:"ghost",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>v(t),children:[s.jsx(de,{className:"size-3.5"}),"Supprimer"]})]})]},t.id)})}),e[14]=a.data,e[15]=m):m=e[15];let d;e[16]!==a.last_page||e[17]!==a.links?(d=a.last_page>1&&s.jsx("div",{className:"flex items-center justify-center gap-1",children:a.links.map(he)}),e[16]=a.last_page,e[17]=a.links,e[18]=d):d=e[18];let x;e[19]!==c||e[20]!==m||e[21]!==d?(x=s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[c,C,m,d]}),e[19]=c,e[20]=m,e[21]=d,e[22]=x):x=e[22];const F=!!n;let D;e[23]===Symbol.for("react.memo_cache_sentinel")?(D=t=>!t&&v(null),e[23]=D):D=e[23];let k;e[24]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(te,{children:"Supprimer le produit"}),e[24]=k):k=e[24];const M=n?.name;let f;e[25]!==M?(f=s.jsxs(ae,{children:[k,s.jsxs(le,{children:["Êtes-vous sûr de vouloir supprimer ",s.jsx("strong",{children:M})," ? Cette action est irréversible."]})]}),e[25]=M,e[26]=f):f=e[26];let P;e[27]===Symbol.for("react.memo_cache_sentinel")?(P=()=>v(null),e[27]=P):P=e[27];let u;e[28]!==r?(u=s.jsx(i,{variant:"outline",onClick:P,disabled:r,children:"Annuler"}),e[28]=r,e[29]=u):u=e[29];const H=r?"Suppression…":"Supprimer";let h;e[30]!==T||e[31]!==r||e[32]!==H?(h=s.jsx(i,{variant:"destructive",onClick:T,disabled:r,children:H}),e[30]=T,e[31]=r,e[32]=H,e[33]=h):h=e[33];let p;e[34]!==u||e[35]!==h?(p=s.jsxs(ie,{children:[u,h]}),e[34]=u,e[35]=h,e[36]=p):p=e[36];let j;e[37]!==f||e[38]!==p?(j=s.jsxs(re,{children:[f,p]}),e[37]=f,e[38]=p,e[39]=j):j=e[39];let g;e[40]!==F||e[41]!==j?(g=s.jsx(ne,{open:F,onOpenChange:D,children:j}),e[40]=F,e[41]=j,e[42]=g):g=e[42];let w;return e[43]!==x||e[44]!==g?(w=s.jsxs(W,{breadcrumbs:xe,children:[b,x,g]}),e[43]=x,e[44]=g,e[45]=w):w=e[45],w}function he(l,e){return s.jsx(i,{variant:l.active?"default":"outline",size:"sm",className:"min-w-9",disabled:!l.url,onClick:()=>l.url&&X.visit(l.url),dangerouslySetInnerHTML:{__html:l.label}},e)}function pe(l){return s.jsx(A,{variant:"secondary",className:"text-[10px]",children:l.name},l.id)}export{Xe as default};
