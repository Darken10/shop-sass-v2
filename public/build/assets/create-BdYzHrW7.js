import{c as M,r as f,j as e,F as P,H as q}from"./app-DqdLS_po.js";import{m as F,S as B,A as D}from"./app-layout-BY_z2l7K.js";import{I as a}from"./input-error-CfDIxQqe.js";import{B as S}from"./button-DVQP8ugw.js";import{b as C,C as E,a as I,c as w}from"./card-z2brvHDy.js";import{I as A}from"./input-CikxobFJ.js";import{L as i}from"./label-CKEEuidP.js";import{c as v,a as g,b as N,S as _,d as b}from"./select-HYGYj5Xd.js";import{S as H}from"./separator-DGAiZpJH.js";import{A as W}from"./arrow-left-DyOQbVss.js";import{A as O}from"./arrow-left-right-B9uWZ_jO.js";import{W as Q}from"./warehouse-CXlB-vPY.js";import{B as Y}from"./box-5DCh-Wk2.js";/* empty css            */import"./index-CJ7mWlm-.js";import"./index-CxeexwSe.js";import"./index-oTu_XNBi.js";import"./Combination-CjQPbJWN.js";import"./index-BY9hahA7.js";import"./x-C_vLIVyO.js";import"./index-CSEUMRIG.js";import"./SaleController-CWOAsHby.js";import"./index-CHdNXJ1h.js";import"./index-B_e8Ugpt.js";import"./app-logo-icon-BquCEMUK.js";import"./building-2-q9KNC_Mq.js";import"./store-B14O_uPo.js";import"./square-user-BhCGZFIc.js";import"./truck-D0hplmIV.js";import"./index-CQuKHLBU.js";import"./check-CFlOe0yf.js";const $=[{value:"purchase_entry",label:"Entrée achat"},{value:"supplier_return",label:"Retour fournisseur"},{value:"store_transfer",label:"Transfert magasin"},{value:"loss",label:"Perte"},{value:"internal_transfer",label:"Transfert interne"},{value:"adjustment",label:"Ajustement"}],G=[{title:"Dashboard",href:"/dashboard"},{title:"Mouvements",href:F().url},{title:"Nouveau",href:"#"}];function Te(r){const s=M.c(12),{warehouses:l,products:y}=r,[n,V]=f.useState(""),[o,z]=f.useState(""),[d,R]=f.useState(""),[c,k]=f.useState("");let m;s[0]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsx(q,{title:"Nouveau mouvement de stock"}),s[0]=m):m=s[0];let u;s[1]===Symbol.for("react.memo_cache_sentinel")?(u=F(),s[1]=u):u=s[1];let p,x;s[2]===Symbol.for("react.memo_cache_sentinel")?(p=e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(S,{asChild:!0,variant:"ghost",size:"icon",className:"size-8",children:e.jsxs("a",{href:u.url,children:[e.jsx(W,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Retour"})]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Nouveau mouvement de stock"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enregistrez une entrée, sortie ou transfert de stock"})]})]}),x=e.jsx(H,{}),s[2]=p,s[3]=x):(p=s[2],x=s[3]);let h;s[4]===Symbol.for("react.memo_cache_sentinel")?(h=B.store.form(),s[4]=h):h=s[4];let j;return s[5]!==c||s[6]!==o||s[7]!==y||s[8]!==d||s[9]!==n||s[10]!==l?(j=e.jsxs(D,{breadcrumbs:G,children:[m,e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[p,x,e.jsx(P,{...h,children:L=>{const{processing:T,errors:t}=L;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mx-auto w-full max-w-2xl space-y-6",children:[e.jsxs(C,{children:[e.jsx(E,{children:e.jsxs(I,{className:"flex items-center gap-2 text-base",children:[e.jsx(O,{className:"size-4"}),"Type & Produit"]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(i,{htmlFor:"type",children:["Type de mouvement ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(v,{value:n,onValueChange:V,children:[e.jsx(g,{id:"type",children:e.jsx(N,{placeholder:"Choisir le type"})}),e.jsx(_,{children:$.map(X)})]}),e.jsx("input",{type:"hidden",name:"type",value:n}),e.jsx(a,{message:t.type})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(i,{htmlFor:"product_id",children:["Produit ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(v,{value:o,onValueChange:z,children:[e.jsx(g,{id:"product_id",children:e.jsx(N,{placeholder:"Choisir un produit"})}),e.jsx(_,{children:y.map(U)})]}),e.jsx("input",{type:"hidden",name:"product_id",value:o}),e.jsx(a,{message:t.product_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(i,{htmlFor:"quantity",children:["Quantité ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(A,{id:"quantity",name:"quantity",type:"number",min:"1",placeholder:"0"}),e.jsx(a,{message:t.quantity})]})]})]}),e.jsxs(C,{children:[e.jsx(E,{children:e.jsxs(I,{className:"flex items-center gap-2 text-base",children:[e.jsx(Q,{className:"size-4"}),"Entrepôts"]})}),e.jsx(w,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"source_warehouse_id",children:"Entrepôt source"}),e.jsxs(v,{value:d,onValueChange:R,children:[e.jsx(g,{id:"source_warehouse_id",children:e.jsx(N,{placeholder:"Source (optionnel)"})}),e.jsx(_,{children:l.map(K)})]}),e.jsx("input",{type:"hidden",name:"source_warehouse_id",value:d}),e.jsx(a,{message:t.source_warehouse_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"destination_warehouse_id",children:"Entrepôt destination"}),e.jsxs(v,{value:c,onValueChange:k,children:[e.jsx(g,{id:"destination_warehouse_id",children:e.jsx(N,{placeholder:"Destination (optionnel)"})}),e.jsx(_,{children:l.map(J)})]}),e.jsx("input",{type:"hidden",name:"destination_warehouse_id",value:c}),e.jsx(a,{message:t.destination_warehouse_id})]})]})})]}),e.jsxs(C,{children:[e.jsx(E,{children:e.jsxs(I,{className:"flex items-center gap-2 text-base",children:[e.jsx(Y,{className:"size-4"}),"Informations complémentaires"]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"reason",children:"Raison"}),e.jsx(A,{id:"reason",name:"reason",placeholder:"Raison du mouvement"}),e.jsx(a,{message:t.reason})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"notes",children:"Notes"}),e.jsx("textarea",{id:"notes",name:"notes",rows:3,placeholder:"Notes supplémentaires…",className:"border-input bg-background placeholder:text-muted-foreground focus-visible:ring-ring flex min-h-[80px] w-full rounded-md border px-3 py-2 text-sm shadow-xs focus-visible:ring-1 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50"}),e.jsx(a,{message:t.notes})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[e.jsx(S,{type:"button",variant:"outline",asChild:!0,children:e.jsx("a",{href:F().url,children:"Annuler"})}),e.jsx(S,{type:"submit",disabled:T,children:T?"Enregistrement…":"Enregistrer le mouvement"})]})]})}})]})]}),s[5]=c,s[6]=o,s[7]=y,s[8]=d,s[9]=n,s[10]=l,s[11]=j):j=s[11],j}function J(r){return e.jsxs(b,{value:r.id,children:[r.name," (",r.code,")"]},r.id)}function K(r){return e.jsxs(b,{value:r.id,children:[r.name," (",r.code,")"]},r.id)}function U(r){return e.jsxs(b,{value:r.id,children:[r.name," (",r.code,")"]},r.id)}function X(r){return e.jsx(b,{value:r.value,children:r.label},r.value)}export{Te as default};
