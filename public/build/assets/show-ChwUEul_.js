import{c as pe,r as fe,j as t,H as ue,L as je,a as ge}from"./app-DqdLS_po.js";import{ac as he,ag as Ne,ah as be,A as ve}from"./app-layout-BY_z2l7K.js";import{B as de}from"./badge-DSvvMiB9.js";import{B as F}from"./button-DVQP8ugw.js";import{b as te,C as se,a as le,c as ae}from"./card-z2brvHDy.js";import{a as _e,b as ye,D as Se,c as De,d as Ce,e as ze}from"./dialog-DIwoh3XE.js";import{S as we}from"./separator-DGAiZpJH.js";import{A as ke}from"./arrow-left-DyOQbVss.js";import{M as Ae}from"./map-pin-k2BeDGdb.js";import{P as Le}from"./phone-CdTmoTfM.js";import{U as Be}from"./user-DJ3XHO1Z.js";import{W as He}from"./warehouse-CXlB-vPY.js";import{S as Ee}from"./square-pen-CLVAS-zk.js";import{T as Pe}from"./trash-2-BLXb_zlu.js";import{B as Re}from"./box-5DCh-Wk2.js";import{H as Fe}from"./hash-CM8Hxcmz.js";/* empty css            */import"./index-CJ7mWlm-.js";import"./index-CxeexwSe.js";import"./index-oTu_XNBi.js";import"./Combination-CjQPbJWN.js";import"./index-BY9hahA7.js";import"./x-C_vLIVyO.js";import"./index-CSEUMRIG.js";import"./SaleController-CWOAsHby.js";import"./index-CHdNXJ1h.js";import"./index-B_e8Ugpt.js";import"./app-logo-icon-BquCEMUK.js";import"./building-2-q9KNC_Mq.js";import"./store-B14O_uPo.js";import"./square-user-BhCGZFIc.js";import"./truck-D0hplmIV.js";const Me={active:{label:"Actif",variant:"default"},inactive:{label:"Inactif",variant:"secondary"},under_maintenance:{label:"En maintenance",variant:"destructive"}};function gt(l){const e=pe.c(104),{warehouse:s}=l,[ie,re]=fe.useState(!1),[a,me]=fe.useState(!1);let M;e[0]===Symbol.for("react.memo_cache_sentinel")?(M={title:"Dashboard",href:"/dashboard"},e[0]=M):M=e[0];let T;e[1]===Symbol.for("react.memo_cache_sentinel")?(T={title:"Entrepôts",href:he().url},e[1]=T):T=e[1];let q;e[2]!==s.name?(q=[M,T,{title:s.name,href:"#"}],e[2]=s.name,e[3]=q):q=e[3];const ne=q;let W;e[4]!==s.status?(W=Me[s.status]??{label:s.status,variant:"outline"},e[4]=s.status,e[5]=W):W=e[5];const i=W;let I;e[6]!==s.id?(I=function(){me(!0),ge.delete(be(s.id).url,{onFinish:()=>me(!1)})},e[6]=s.id,e[7]=I):I=e[7];const ce=I;let r;e[8]!==s.name?(r=t.jsx(ue,{title:s.name}),e[8]=s.name,e[9]=r):r=e[9];let U;e[10]===Symbol.for("react.memo_cache_sentinel")?(U=he(),e[10]=U):U=e[10];let O;e[11]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(F,{asChild:!0,variant:"ghost",size:"icon",className:"size-8",children:t.jsxs("a",{href:U.url,children:[t.jsx(ke,{className:"size-4"}),t.jsx("span",{className:"sr-only",children:"Retour"})]})}),e[11]=O):O=e[11];let Q;e[12]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("div",{className:"flex size-12 items-center justify-center rounded-lg border bg-muted",children:t.jsx(He,{className:"size-5 text-muted-foreground"})}),e[12]=Q):Q=e[12];let n;e[13]!==s.name?(n=t.jsx("h1",{className:"text-xl font-semibold",children:s.name}),e[13]=s.name,e[14]=n):n=e[14];let c;e[15]!==s.code?(c=t.jsx("span",{className:"text-sm text-muted-foreground",children:s.code}),e[15]=s.code,e[16]=c):c=e[16];let o;e[17]!==i.label||e[18]!==i.variant?(o=t.jsx(de,{variant:i.variant,children:i.label}),e[17]=i.label,e[18]=i.variant,e[19]=o):o=e[19];let d;e[20]!==c||e[21]!==o?(d=t.jsxs("div",{className:"flex items-center gap-2",children:[c,o]}),e[20]=c,e[21]=o,e[22]=d):d=e[22];let m;e[23]!==n||e[24]!==d?(m=t.jsxs("div",{className:"flex items-center gap-4",children:[O,t.jsxs("div",{className:"flex items-center gap-3",children:[Q,t.jsxs("div",{children:[n,d]})]})]}),e[23]=n,e[24]=d,e[25]=m):m=e[25];let x;e[26]!==s.id?(x=Ne(s.id),e[26]=s.id,e[27]=x):x=e[27];let $;e[28]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(Ee,{className:"size-4"}),e[28]=$):$=e[28];let f;e[29]!==x.url?(f=t.jsx(F,{asChild:!0,variant:"outline",size:"sm",children:t.jsxs(je,{href:x.url,children:[$,"Modifier"]})}),e[29]=x.url,e[30]=f):f=e[30];let G;e[31]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsxs(F,{variant:"destructive",size:"sm",onClick:()=>re(!0),children:[t.jsx(Pe,{className:"size-4"}),"Supprimer"]}),e[31]=G):G=e[31];let h;e[32]!==f?(h=t.jsxs("div",{className:"flex items-center gap-2",children:[f,G]}),e[32]=f,e[33]=h):h=e[33];let p;e[34]!==m||e[35]!==h?(p=t.jsxs("div",{className:"flex items-center justify-between",children:[m,h]}),e[34]=m,e[35]=h,e[36]=p):p=e[36];let J;e[37]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(we,{}),e[37]=J):J=e[37];let u;e[38]!==s.description?(u=s.description&&t.jsxs(te,{children:[t.jsx(se,{children:t.jsx(le,{className:"text-base",children:"Description"})}),t.jsx(ae,{children:t.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})})]}),e[38]=s.description,e[39]=u):u=e[39];let K;e[40]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(Re,{className:"size-4"}),e[40]=K):K=e[40];let j;e[41]!==s.stocks.length?(j=t.jsx(se,{children:t.jsxs(le,{className:"flex items-center gap-2 text-base",children:[K,"Stocks (",s.stocks.length,")"]})}),e[41]=s.stocks.length,e[42]=j):j=e[42];let g;e[43]!==s.stocks?(g=t.jsx(ae,{children:s.stocks.length===0?t.jsx("p",{className:"py-4 text-center text-sm text-muted-foreground",children:"Aucun stock enregistré dans cet entrepôt."}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b text-left text-muted-foreground",children:[t.jsx("th",{className:"pb-2 font-medium",children:"Produit"}),t.jsx("th",{className:"pb-2 font-medium",children:"Code"}),t.jsx("th",{className:"pb-2 text-right font-medium",children:"Quantité"}),t.jsx("th",{className:"pb-2 text-right font-medium",children:"Alerte"}),t.jsx("th",{className:"pb-2 text-right font-medium",children:"État"})]})}),t.jsx("tbody",{children:s.stocks.map(Te)})]})})}),e[43]=s.stocks,e[44]=g):g=e[44];let N;e[45]!==j||e[46]!==g?(N=t.jsxs(te,{children:[j,g]}),e[45]=j,e[46]=g,e[47]=N):N=e[47];let b;e[48]!==u||e[49]!==N?(b=t.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[u,N]}),e[48]=u,e[49]=N,e[50]=b):b=e[50];let v;e[51]!==s.address||e[52]!==s.city||e[53]!==s.phone?(v=(s.address||s.city||s.phone)&&t.jsxs(te,{children:[t.jsx(se,{children:t.jsxs(le,{className:"flex items-center gap-2 text-base",children:[t.jsx(Ae,{className:"size-4"}),"Localisation"]})}),t.jsxs(ae,{className:"space-y-3 text-sm",children:[s.address&&t.jsx("div",{className:"text-muted-foreground",children:s.address}),s.city&&t.jsx("div",{className:"text-muted-foreground",children:s.city}),s.phone&&t.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsx(Le,{className:"size-3.5"}),t.jsx("span",{children:s.phone})]})]})]}),e[51]=s.address,e[52]=s.city,e[53]=s.phone,e[54]=v):v=e[54];let V;e[55]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(se,{children:t.jsxs(le,{className:"flex items-center gap-2 text-base",children:[t.jsx(Fe,{className:"size-4"}),"Détails"]})}),e[55]=V):V=e[55];let _;e[56]!==s.created_by?(_=s.created_by&&t.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsx(Be,{className:"size-3.5"}),t.jsxs("span",{children:["Créé par ",s.created_by.name]})]}),e[56]=s.created_by,e[57]=_):_=e[57];let y;e[58]!==s.created_at?(y=new Date(s.created_at).toLocaleDateString("fr-FR"),e[58]=s.created_at,e[59]=y):y=e[59];let S;e[60]!==y?(S=t.jsxs("div",{className:"text-muted-foreground",children:["Créé le ",y]}),e[60]=y,e[61]=S):S=e[61];let D;e[62]!==s.updated_at?(D=new Date(s.updated_at).toLocaleDateString("fr-FR"),e[62]=s.updated_at,e[63]=D):D=e[63];let C;e[64]!==D?(C=t.jsxs("div",{className:"text-muted-foreground",children:["Modifié le ",D]}),e[64]=D,e[65]=C):C=e[65];let z;e[66]!==_||e[67]!==S||e[68]!==C?(z=t.jsxs(te,{children:[V,t.jsxs(ae,{className:"space-y-3 text-sm",children:[_,S,C]})]}),e[66]=_,e[67]=S,e[68]=C,e[69]=z):z=e[69];let w;e[70]!==v||e[71]!==z?(w=t.jsxs("div",{className:"space-y-6",children:[v,z]}),e[70]=v,e[71]=z,e[72]=w):w=e[72];let k;e[73]!==b||e[74]!==w?(k=t.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[b,w]}),e[73]=b,e[74]=w,e[75]=k):k=e[75];let A;e[76]!==p||e[77]!==k?(A=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[p,J,k]}),e[76]=p,e[77]=k,e[78]=A):A=e[78];let X;e[79]===Symbol.for("react.memo_cache_sentinel")?(X=xe=>!xe&&re(!1),e[79]=X):X=e[79];let Y;e[80]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(Se,{children:"Supprimer l'entrepôt"}),e[80]=Y):Y=e[80];let L;e[81]!==s.name?(L=t.jsxs(_e,{children:[Y,t.jsxs(ye,{children:["Êtes-vous sûr de vouloir supprimer ",t.jsx("strong",{children:s.name})," ? Cette action est irréversible."]})]}),e[81]=s.name,e[82]=L):L=e[82];let Z;e[83]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>re(!1),e[83]=Z):Z=e[83];let B;e[84]!==a?(B=t.jsx(F,{variant:"outline",onClick:Z,disabled:a,children:"Annuler"}),e[84]=a,e[85]=B):B=e[85];const oe=a?"Suppression…":"Supprimer";let H;e[86]!==ce||e[87]!==a||e[88]!==oe?(H=t.jsx(F,{variant:"destructive",onClick:ce,disabled:a,children:oe}),e[86]=ce,e[87]=a,e[88]=oe,e[89]=H):H=e[89];let E;e[90]!==B||e[91]!==H?(E=t.jsxs(De,{children:[B,H]}),e[90]=B,e[91]=H,e[92]=E):E=e[92];let P;e[93]!==L||e[94]!==E?(P=t.jsxs(Ce,{children:[L,E]}),e[93]=L,e[94]=E,e[95]=P):P=e[95];let R;e[96]!==ie||e[97]!==P?(R=t.jsx(ze,{open:ie,onOpenChange:X,children:P}),e[96]=ie,e[97]=P,e[98]=R):R=e[98];let ee;return e[99]!==ne||e[100]!==A||e[101]!==R||e[102]!==r?(ee=t.jsxs(ve,{breadcrumbs:ne,children:[r,A,R]}),e[99]=ne,e[100]=A,e[101]=R,e[102]=r,e[103]=ee):ee=e[103],ee}function Te(l){return t.jsxs("tr",{className:"border-b last:border-0",children:[t.jsx("td",{className:"py-2.5 font-medium",children:l.product.name}),t.jsx("td",{className:"py-2.5 text-muted-foreground",children:l.product.code}),t.jsx("td",{className:"py-2.5 text-right",children:l.quantity}),t.jsx("td",{className:"py-2.5 text-right text-muted-foreground",children:l.stock_alert}),t.jsx("td",{className:"py-2.5 text-right",children:l.quantity<=l.stock_alert?t.jsx(de,{variant:"destructive",className:"text-[10px]",children:"Alerte"}):t.jsx(de,{variant:"outline",className:"text-[10px]",children:"Normal"})})]},l.id)}export{gt as default};
