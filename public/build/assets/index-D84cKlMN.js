import{c as $,r as R,j as s,L as E,a as V,H as J}from"./app-DqdLS_po.js";import{c as U,s as K,e as Q,d as W,A as X,i as Y}from"./app-layout-BY_z2l7K.js";import{B as Z}from"./badge-DSvvMiB9.js";import{B as i}from"./button-DVQP8ugw.js";import{b as ee,c as se,d as te}from"./card-z2brvHDy.js";import{D as re,a as ie,b as le,c as ae,d as ne,e as ce}from"./dialog-DIwoh3XE.js";import{S as oe}from"./separator-DGAiZpJH.js";import{P as G}from"./plus-fUC_Frcj.js";import{B as O}from"./building-2-q9KNC_Mq.js";import{M as de}from"./mail-r0u2Al53.js";import{M as me}from"./map-pin-k2BeDGdb.js";import{G as xe}from"./globe-C7JxHse6.js";import{U as ue}from"./user-DJ3XHO1Z.js";import{E as fe}from"./eye-DsB2PTHw.js";import{S as he}from"./square-pen-CLVAS-zk.js";import{T as pe}from"./trash-2-BLXb_zlu.js";/* empty css            */import"./index-CJ7mWlm-.js";import"./index-CxeexwSe.js";import"./index-oTu_XNBi.js";import"./Combination-CjQPbJWN.js";import"./index-BY9hahA7.js";import"./x-C_vLIVyO.js";import"./index-CSEUMRIG.js";import"./SaleController-CWOAsHby.js";import"./index-CHdNXJ1h.js";import"./index-B_e8Ugpt.js";import"./app-logo-icon-BquCEMUK.js";import"./warehouse-CXlB-vPY.js";import"./store-B14O_uPo.js";import"./square-user-BhCGZFIc.js";import"./truck-D0hplmIV.js";const je=[{title:"Dashboard",href:"/dashboard"},{title:"Entreprises",href:Y().url}],ge={active:{label:"Actif",variant:"default"},inactive:{label:"Inactif",variant:"secondary"},suspended:{label:"Suspendu",variant:"destructive"}},ve={alimentation:"Alimentation",boutique:"Boutique",restaurant:"Restaurant",pharmacy:"Pharmacie",service:"Service"};function Ze(l){const e=$.c(46),{companies:r}=l,[n,v]=R.useState(null),[a,I]=R.useState(!1);let b;e[0]!==n?(b=function(){n&&(I(!0),V.delete(W(n.id).url,{onFinish:()=>{I(!1),v(null)}}))},e[0]=n,e[1]=b):b=e[1];const A=b;let N;e[2]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(J,{title:"Entreprises"}),e[2]=N):N=e[2];let _,z;e[3]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-primary/10",children:s.jsx(O,{className:"size-5 text-primary"})}),z=s.jsx("h1",{className:"text-xl font-semibold",children:"Entreprises"}),e[3]=_,e[4]=z):(_=e[3],z=e[4]);const M=r.total!==1?"s":"",T=r.total!==1?"s":"";let c;e[5]!==r.total||e[6]!==M||e[7]!==T?(c=s.jsxs("div",{className:"flex items-center gap-3",children:[_,s.jsxs("div",{children:[z,s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.total," entreprise",M," enregistrée",T]})]})]}),e[5]=r.total,e[6]=M,e[7]=T,e[8]=c):c=e[8];let S;e[9]===Symbol.for("react.memo_cache_sentinel")?(S=U(),e[9]=S):S=e[9];let C;e[10]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(i,{asChild:!0,size:"sm",children:s.jsxs(E,{href:S.url,prefetch:!0,children:[s.jsx(G,{className:"size-4"}),"Nouvelle entreprise"]})}),e[10]=C):C=e[10];let o;e[11]!==c?(o=s.jsxs("div",{className:"flex items-center justify-between",children:[c,C]}),e[11]=c,e[12]=o):o=e[12];let D;e[13]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(oe,{}),e[13]=D):D=e[13];let d;e[14]!==r.data?(d=r.data.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 rounded-xl border border-dashed py-20 text-center",children:[s.jsx(O,{className:"size-12 text-muted-foreground/40"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Aucune entreprise trouvée"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par créer votre première entreprise."})]}),s.jsx(i,{asChild:!0,size:"sm",variant:"outline",children:s.jsxs(E,{href:U().url,children:[s.jsx(G,{className:"size-4"}),"Créer une entreprise"]})})]}):s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:r.data.map(t=>{const q=ge[t.status],F=[t.city,t.country].filter(Boolean).join(", ");return s.jsxs(ee,{className:"flex flex-col overflow-hidden transition-shadow hover:shadow-md",children:[s.jsxs("div",{className:"relative h-16 bg-primary/8",children:[s.jsx("div",{className:"absolute -bottom-6 left-4 flex size-12 items-center justify-center rounded-xl border-2 border-background bg-background shadow-sm",children:t.logo?s.jsx("img",{src:t.logo,alt:t.name,className:"size-10 rounded-lg object-cover"}):s.jsx("span",{className:"text-sm font-bold text-primary",children:t.name.slice(0,2).toUpperCase()})}),s.jsx("div",{className:"absolute right-3 top-3",children:s.jsx(Z,{variant:q.variant,children:q.label})})]}),s.jsxs(se,{className:"flex flex-1 flex-col gap-3 pt-9",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"truncate font-semibold leading-tight",children:t.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:ve[t.type]})]}),s.jsxs("div",{className:"space-y-1.5 text-xs text-muted-foreground",children:[t.email&&s.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[s.jsx(de,{className:"size-3 shrink-0"}),s.jsx("span",{className:"truncate",children:t.email})]}),F&&s.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[s.jsx(me,{className:"size-3 shrink-0"}),s.jsx("span",{className:"truncate",children:F})]}),t.website&&s.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[s.jsx(xe,{className:"size-3 shrink-0"}),s.jsx("span",{className:"truncate",children:t.website.replace(/^https?:\/\//,"")})]}),t.creator&&s.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[s.jsx(ue,{className:"size-3 shrink-0"}),s.jsx("span",{className:"truncate",children:t.creator.name})]})]})]}),s.jsxs(te,{className:"gap-1 border-t p-2",children:[s.jsx(i,{asChild:!0,variant:"ghost",size:"sm",className:"flex-1",children:s.jsxs(E,{href:K(t.id).url,prefetch:!0,children:[s.jsx(fe,{className:"size-3.5"}),"Voir"]})}),s.jsx(i,{asChild:!0,variant:"ghost",size:"sm",className:"flex-1",children:s.jsxs(E,{href:Q(t.id).url,prefetch:!0,children:[s.jsx(he,{className:"size-3.5"}),"Modifier"]})}),s.jsxs(i,{variant:"ghost",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>v(t),children:[s.jsx(pe,{className:"size-3.5"}),"Supprimer"]})]})]},t.id)})}),e[14]=r.data,e[15]=d):d=e[15];let m;e[16]!==r.last_page||e[17]!==r.links?(m=r.last_page>1&&s.jsx("div",{className:"flex items-center justify-center gap-1",children:r.links.map(be)}),e[16]=r.last_page,e[17]=r.links,e[18]=m):m=e[18];let x;e[19]!==o||e[20]!==d||e[21]!==m?(x=s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[o,D,d,m]}),e[19]=o,e[20]=d,e[21]=m,e[22]=x):x=e[22];const L=!!n;let y;e[23]===Symbol.for("react.memo_cache_sentinel")?(y=t=>!t&&v(null),e[23]=y):y=e[23];let k;e[24]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(re,{children:"Supprimer l'entreprise"}),e[24]=k):k=e[24];const P=n?.name;let u;e[25]!==P?(u=s.jsxs(ie,{children:[k,s.jsxs(le,{children:["Êtes-vous sûr de vouloir supprimer ",s.jsx("strong",{children:P})," ? Cette action est irréversible."]})]}),e[25]=P,e[26]=u):u=e[26];let w;e[27]===Symbol.for("react.memo_cache_sentinel")?(w=()=>v(null),e[27]=w):w=e[27];let f;e[28]!==a?(f=s.jsx(i,{variant:"outline",onClick:w,disabled:a,children:"Annuler"}),e[28]=a,e[29]=f):f=e[29];const H=a?"Suppression…":"Supprimer";let h;e[30]!==A||e[31]!==a||e[32]!==H?(h=s.jsx(i,{variant:"destructive",onClick:A,disabled:a,children:H}),e[30]=A,e[31]=a,e[32]=H,e[33]=h):h=e[33];let p;e[34]!==f||e[35]!==h?(p=s.jsxs(ae,{children:[f,h]}),e[34]=f,e[35]=h,e[36]=p):p=e[36];let j;e[37]!==u||e[38]!==p?(j=s.jsxs(ne,{children:[u,p]}),e[37]=u,e[38]=p,e[39]=j):j=e[39];let g;e[40]!==L||e[41]!==j?(g=s.jsx(ce,{open:L,onOpenChange:y,children:j}),e[40]=L,e[41]=j,e[42]=g):g=e[42];let B;return e[43]!==x||e[44]!==g?(B=s.jsxs(X,{breadcrumbs:je,children:[N,x,g]}),e[43]=x,e[44]=g,e[45]=B):B=e[45],B}function be(l,e){return s.jsx(i,{variant:l.active?"default":"outline",size:"sm",className:"min-w-9",disabled:!l.url,onClick:()=>l.url&&V.visit(l.url),dangerouslySetInnerHTML:{__html:l.label}},e)}export{Ze as default};
