import{c as ut,r as at,j as t,H as ft,L as it,a as ht}from"./app-DqdLS_po.js";import{V as lt,a0 as nt,a1 as pt,a2 as jt,a3 as vt,a4 as _t,a5 as bt,X as gt,A as Nt}from"./app-layout-BY_z2l7K.js";import{B as Xe}from"./badge-DSvvMiB9.js";import{B as i}from"./button-DVQP8ugw.js";import{C as me,a as xe,b as ue,c as fe}from"./card-z2brvHDy.js";import{e as yt,d as St,a as Ct,D as zt,b as wt,c as Dt}from"./dialog-DIwoh3XE.js";import{S as Rt}from"./separator-DGAiZpJH.js";import{A as Lt}from"./arrow-left-DyOQbVss.js";import{S as kt}from"./send-DzX7VkNr.js";import{C as ct}from"./check-CFlOe0yf.js";import{X as At}from"./x-C_vLIVyO.js";import{c as Ft}from"./index-CJ7mWlm-.js";import{T as et}from"./truck-D0hplmIV.js";import{P as tt}from"./package-check-DzOLjUGY.js";import{T as mt}from"./triangle-alert-C1kSQOGD.js";import{C as Et}from"./circle-dollar-sign-BZRWRA1r.js";import{U as dt}from"./user-DJ3XHO1Z.js";import{W as qt}from"./warehouse-CXlB-vPY.js";import{H as Tt}from"./hash-CM8Hxcmz.js";import{P as Mt}from"./index-CxeexwSe.js";import{C as Ht}from"./calendar-CTJAuZ2V.js";/* empty css            */import"./index-oTu_XNBi.js";import"./Combination-CjQPbJWN.js";import"./index-BY9hahA7.js";import"./index-CSEUMRIG.js";import"./SaleController-CWOAsHby.js";import"./index-CHdNXJ1h.js";import"./index-B_e8Ugpt.js";import"./app-logo-icon-BquCEMUK.js";import"./building-2-q9KNC_Mq.js";import"./store-B14O_uPo.js";import"./square-user-BhCGZFIc.js";const Pt=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],It=Ft("Ship",Pt),ot={warehouse_to_shop:"Entrepôt → Magasin",warehouse_to_warehouse:"Entrepôt → Entrepôt"},Bt={draft:{label:"Brouillon",variant:"outline"},pending:{label:"En attente",variant:"outline"},approved:{label:"Approuvé",variant:"default"},in_transit:{label:"En transit",variant:"secondary"},delivered:{label:"Livré",variant:"default"},received:{label:"Réceptionné",variant:"default"},rejected:{label:"Rejeté",variant:"destructive"},cancelled:{label:"Annulé",variant:"secondary"}};function Ls(r){const e=ut.c(192),{transfer:s}=r,[a,l]=at.useState(null),[he,st]=at.useState(!1);let je;e[0]===Symbol.for("react.memo_cache_sentinel")?(je={title:"Dashboard",href:"/dashboard"},e[0]=je):je=e[0];let ve;e[1]===Symbol.for("react.memo_cache_sentinel")?(ve={title:"Transferts",href:lt().url},e[1]=ve):ve=e[1];let _e;e[2]!==s.reference?(_e=[je,ve,{title:s.reference,href:"#"}],e[2]=s.reference,e[3]=_e):_e=e[3];const $e=_e;let be;e[4]!==s.status?(be=Bt[s.status]??{label:s.status,variant:"outline"},e[4]=s.status,e[5]=be):be=e[5];const n=be,pe=s.type==="warehouse_to_shop"?s.destination_shop:s.destination_warehouse,Ue=s.type==="warehouse_to_shop"?"Magasin":"Entrepôt";let ge;e[6]!==a||e[7]!==s.id?(ge=function(){if(!a)return;st(!0);const xt={approve:bt(s.id).url,ship:_t(s.id).url,deliver:vt(s.id).url,reject:jt(s.id).url,submit:pt(s.id).url};ht.post(xt[a],{},{onFinish:()=>{st(!1),l(null)}})},e[6]=a,e[7]=s.id,e[8]=ge):ge=e[8];const We=ge;let Ne;e[9]===Symbol.for("react.memo_cache_sentinel")?(Ne={title:"Approuver le transfert",description:"Cette action approuvera le transfert.",button:"Approuver",variant:"default"},e[9]=Ne):Ne=e[9];let ye;e[10]===Symbol.for("react.memo_cache_sentinel")?(ye={title:"Expédier le transfert",description:"Le transfert sera marqué comme en transit.",button:"Expédier",variant:"default"},e[10]=ye):ye=e[10];let Se;e[11]===Symbol.for("react.memo_cache_sentinel")?(Se={title:"Marquer comme livré",description:"Le transfert sera marqué comme livré à destination.",button:"Livrer",variant:"default"},e[11]=Se):Se=e[11];let Ce;e[12]===Symbol.for("react.memo_cache_sentinel")?(Ce={title:"Rejeter le transfert",description:"Ce transfert sera rejeté et ne pourra plus être traité.",button:"Rejeter",variant:"destructive"},e[12]=Ce):Ce=e[12];let ze;e[13]===Symbol.for("react.memo_cache_sentinel")?(ze={approve:Ne,ship:ye,deliver:Se,reject:Ce,submit:{title:"Soumettre le brouillon",description:"Le brouillon sera soumis pour approbation.",button:"Soumettre",variant:"default"}},e[13]=ze):ze=e[13];const we=ze;let c;e[14]!==s.reference?(c=t.jsx(ft,{title:s.reference}),e[14]=s.reference,e[15]=c):c=e[15];let De;e[16]===Symbol.for("react.memo_cache_sentinel")?(De=lt(),e[16]=De):De=e[16];let Re;e[17]===Symbol.for("react.memo_cache_sentinel")?(Re=t.jsx(i,{asChild:!0,variant:"ghost",size:"icon",className:"size-8",children:t.jsxs("a",{href:De.url,children:[t.jsx(Lt,{className:"size-4"}),t.jsx("span",{className:"sr-only",children:"Retour"})]})}),e[17]=Re):Re=e[17];let Le;e[18]===Symbol.for("react.memo_cache_sentinel")?(Le=t.jsx("div",{className:"flex size-12 items-center justify-center rounded-lg border bg-muted",children:t.jsx(gt,{className:"size-5 text-muted-foreground"})}),e[18]=Le):Le=e[18];let d;e[19]!==s.reference?(d=t.jsx("h1",{className:"text-xl font-semibold",children:s.reference}),e[19]=s.reference,e[20]=d):d=e[20];let o;e[21]!==n.label||e[22]!==n.variant?(o=t.jsx(Xe,{variant:n.variant,children:n.label}),e[21]=n.label,e[22]=n.variant,e[23]=o):o=e[23];const Ge=ot[s.type]??s.type;let m;e[24]!==Ge?(m=t.jsx(Xe,{variant:"outline",children:Ge}),e[24]=Ge,e[25]=m):m=e[25];let x;e[26]!==o||e[27]!==m?(x=t.jsxs("div",{className:"flex items-center gap-2",children:[o,m]}),e[26]=o,e[27]=m,e[28]=x):x=e[28];let u;e[29]!==d||e[30]!==x?(u=t.jsxs("div",{className:"flex items-center gap-4",children:[Re,t.jsxs("div",{className:"flex items-center gap-3",children:[Le,t.jsxs("div",{children:[d,x]})]})]}),e[29]=d,e[30]=x,e[31]=u):u=e[31];let f;e[32]!==s.status?(f=s.status==="draft"&&t.jsxs(i,{size:"sm",onClick:()=>l("submit"),children:[t.jsx(kt,{className:"size-4"}),"Soumettre"]}),e[32]=s.status,e[33]=f):f=e[33];let h;e[34]!==s.status?(h=s.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs(i,{variant:"outline",size:"sm",onClick:()=>l("approve"),children:[t.jsx(ct,{className:"size-4"}),"Approuver"]}),t.jsxs(i,{variant:"destructive",size:"sm",onClick:()=>l("reject"),children:[t.jsx(At,{className:"size-4"}),"Rejeter"]})]}),e[34]=s.status,e[35]=h):h=e[35];let p;e[36]!==s.status?(p=s.status==="approved"&&t.jsxs(i,{size:"sm",onClick:()=>l("ship"),children:[t.jsx(It,{className:"size-4"}),"Expédier"]}),e[36]=s.status,e[37]=p):p=e[37];let j;e[38]!==s.id||e[39]!==s.status?(j=s.status==="in_transit"&&t.jsxs(t.Fragment,{children:[t.jsxs(i,{size:"sm",variant:"outline",onClick:()=>l("deliver"),children:[t.jsx(et,{className:"size-4"}),"Livré"]}),t.jsx(i,{size:"sm",asChild:!0,children:t.jsxs(it,{href:nt(s.id).url,children:[t.jsx(tt,{className:"size-4"}),"Réceptionner"]})})]}),e[38]=s.id,e[39]=s.status,e[40]=j):j=e[40];let v;e[41]!==s.id||e[42]!==s.status?(v=s.status==="delivered"&&t.jsx(i,{size:"sm",asChild:!0,children:t.jsxs(it,{href:nt(s.id).url,children:[t.jsx(tt,{className:"size-4"}),"Réceptionner"]})}),e[41]=s.id,e[42]=s.status,e[43]=v):v=e[43];let _;e[44]!==f||e[45]!==h||e[46]!==p||e[47]!==j||e[48]!==v?(_=t.jsxs("div",{className:"flex items-center gap-2",children:[f,h,p,j,v]}),e[44]=f,e[45]=h,e[46]=p,e[47]=j,e[48]=v,e[49]=_):_=e[49];let b;e[50]!==u||e[51]!==_?(b=t.jsxs("div",{className:"flex items-center justify-between",children:[u,_]}),e[50]=u,e[51]=_,e[52]=b):b=e[52];let ke;e[53]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(Rt,{}),e[53]=ke):ke=e[53];let Ae;e[54]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(me,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-base",children:[t.jsx(qt,{className:"size-4"}),"Itinéraire"]})}),e[54]=Ae):Ae=e[54];let Fe;e[55]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Source"}),e[55]=Fe):Fe=e[55];const Je=s.source_warehouse?.name??"—";let g;e[56]!==Je?(g=t.jsx("p",{className:"mt-1 font-semibold",children:Je}),e[56]=Je,e[57]=g):g=e[57];let N;e[58]!==s.source_warehouse?(N=s.source_warehouse&&t.jsx("p",{className:"text-xs text-muted-foreground",children:s.source_warehouse.code}),e[58]=s.source_warehouse,e[59]=N):N=e[59];let y;e[60]!==g||e[61]!==N?(y=t.jsxs("div",{className:"flex-1 rounded-lg border bg-muted/30 p-4 text-center",children:[Fe,g,N]}),e[60]=g,e[61]=N,e[62]=y):y=e[62];let Ee;e[63]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx(et,{className:"size-5 shrink-0 text-muted-foreground"}),e[63]=Ee):Ee=e[63];let S;e[64]!==Ue?(S=t.jsx("p",{className:"text-xs text-muted-foreground",children:Ue}),e[64]=Ue,e[65]=S):S=e[65];const Ke=pe?.name??"—";let C;e[66]!==Ke?(C=t.jsx("p",{className:"mt-1 font-semibold",children:Ke}),e[66]=Ke,e[67]=C):C=e[67];let z;e[68]!==pe?(z=pe&&t.jsx("p",{className:"text-xs text-muted-foreground",children:pe.code}),e[68]=pe,e[69]=z):z=e[69];let w;e[70]!==S||e[71]!==C||e[72]!==z?(w=t.jsxs("div",{className:"flex-1 rounded-lg border bg-muted/30 p-4 text-center",children:[S,C,z]}),e[70]=S,e[71]=C,e[72]=z,e[73]=w):w=e[73];let D;e[74]!==y||e[75]!==w?(D=t.jsxs(ue,{children:[Ae,t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center gap-4",children:[y,Ee,w]})})]}),e[74]=y,e[75]=w,e[76]=D):D=e[76];let qe;e[77]===Symbol.for("react.memo_cache_sentinel")?(qe=t.jsx(me,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-base",children:[t.jsx(Tt,{className:"size-4"}),"Informations"]})}),e[77]=qe):qe=e[77];let Te;e[78]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx("span",{className:"text-muted-foreground",children:"Type"}),e[78]=Te):Te=e[78];const Qe=ot[s.type]??s.type;let R;e[79]!==Qe?(R=t.jsxs("div",{className:"flex items-center justify-between",children:[Te,t.jsx(Xe,{variant:"outline",children:Qe})]}),e[79]=Qe,e[80]=R):R=e[80];let L;e[81]!==s.vehicle?(L=s.vehicle&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Véhicule"}),t.jsxs("span",{className:"font-medium",children:[s.vehicle.name," (",s.vehicle.registration_number,")"]})]}),e[81]=s.vehicle,e[82]=L):L=e[82];let k;e[83]!==s.driver_name||e[84]!==s.driver_phone?(k=s.driver_name&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Chauffeur"}),t.jsxs("span",{className:"font-medium",children:[s.driver_name,s.driver_phone?` (${s.driver_phone})`:""]})]}),e[83]=s.driver_name,e[84]=s.driver_phone,e[85]=k):k=e[85];let Me;e[86]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsx("span",{className:"text-muted-foreground",children:"Frais entreprise"}),e[86]=Me):Me=e[86];const Ye=s.company_bears_costs?"default":"outline",Ze=s.company_bears_costs?"Oui":"Non";let A;e[87]!==Ye||e[88]!==Ze?(A=t.jsxs("div",{className:"flex items-center justify-between",children:[Me,t.jsx(Xe,{variant:Ye,children:Ze})]}),e[87]=Ye,e[88]=Ze,e[89]=A):A=e[89];let F;e[90]!==s.notes?(F=s.notes&&t.jsxs("div",{className:"pt-2",children:[t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Notes"}),t.jsx("p",{className:"mt-1 text-sm",children:s.notes})]}),e[90]=s.notes,e[91]=F):F=e[91];let E;e[92]!==R||e[93]!==L||e[94]!==k||e[95]!==A||e[96]!==F?(E=t.jsxs(ue,{children:[qe,t.jsxs(fe,{className:"space-y-3 text-sm",children:[R,L,k,A,F]})]}),e[92]=R,e[93]=L,e[94]=k,e[95]=A,e[96]=F,e[97]=E):E=e[97];let He;e[98]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx(Mt,{className:"size-4"}),e[98]=He):He=e[98];let q;e[99]!==s.items.length?(q=t.jsx(me,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-base",children:[He,"Articles (",s.items.length,")"]})}),e[99]=s.items.length,e[100]=q):q=e[100];let Pe;e[101]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsx("thead",{children:t.jsxs("tr",{className:"border-b text-left text-muted-foreground",children:[t.jsx("th",{className:"pb-2 font-medium",children:"Produit"}),t.jsx("th",{className:"pb-2 font-medium",children:"Code"}),t.jsx("th",{className:"pb-2 text-right font-medium",children:"Demandé"}),t.jsx("th",{className:"pb-2 text-right font-medium",children:"Expédié"}),t.jsx("th",{className:"pb-2 text-right font-medium",children:"Reçu"})]})}),e[101]=Pe):Pe=e[101];let T;e[102]!==s.items?(T=s.items.map(Kt),e[102]=s.items,e[103]=T):T=e[103];let M;e[104]!==T?(M=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[Pe,t.jsx("tbody",{children:T})]})}),e[104]=T,e[105]=M):M=e[105];let H;e[106]!==s.items?(H=s.items.some(Jt)&&t.jsxs("div",{className:"mt-4 space-y-2 rounded-lg border border-destructive/20 bg-destructive/5 p-3",children:[t.jsxs("p",{className:"flex items-center gap-2 text-sm font-medium text-destructive",children:[t.jsx(mt,{className:"size-4"}),"Écarts signalés"]}),s.items.filter(Gt).map(Wt)]}),e[106]=s.items,e[107]=H):H=e[107];let P;e[108]!==M||e[109]!==H?(P=t.jsxs(fe,{children:[M,H]}),e[108]=M,e[109]=H,e[110]=P):P=e[110];let I;e[111]!==q||e[112]!==P?(I=t.jsxs(ue,{children:[q,P]}),e[111]=q,e[112]=P,e[113]=I):I=e[113];let B;e[114]!==s.company_bears_costs||e[115]!==s.logistic_charges?(B=s.company_bears_costs&&s.logistic_charges.length>0&&t.jsxs(ue,{children:[t.jsx(me,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-base",children:[t.jsx(Et,{className:"size-4"}),"Frais logistiques (",s.logistic_charges.length,")"]})}),t.jsxs(fe,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b text-left text-muted-foreground",children:[t.jsx("th",{className:"pb-2 font-medium",children:"Libellé"}),t.jsx("th",{className:"pb-2 font-medium",children:"Type"}),t.jsx("th",{className:"pb-2 text-right font-medium",children:"Montant"})]})}),t.jsx("tbody",{children:s.logistic_charges.map(Ut)}),t.jsx("tfoot",{children:t.jsxs("tr",{className:"border-t font-semibold",children:[t.jsx("td",{className:"pt-2",colSpan:2,children:"Total"}),t.jsx("td",{className:"pt-2 text-right",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(s.logistic_charges.reduce($t,0))})]})})]})}),s.logistic_charges.some(Xt)&&t.jsx("div",{className:"mt-3 space-y-1",children:s.logistic_charges.filter(Vt).map(Ot)})]})]}),e[114]=s.company_bears_costs,e[115]=s.logistic_charges,e[116]=B):B=e[116];let O;e[117]!==D||e[118]!==E||e[119]!==I||e[120]!==B?(O=t.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[D,E,I,B]}),e[117]=D,e[118]=E,e[119]=I,e[120]=B,e[121]=O):O=e[121];let Ie;e[122]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(me,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-base",children:[t.jsx(Ht,{className:"size-4"}),"Suivi"]})}),e[122]=Ie):Ie=e[122];let Be;e[123]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsx("p",{className:"text-sm font-medium",children:"Créé"}),e[123]=Be):Be=e[123];let V;e[124]!==s.created_at?(V=new Date(s.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),e[124]=s.created_at,e[125]=V):V=e[125];let X;e[126]!==V?(X=t.jsx("p",{className:"text-xs text-muted-foreground",children:V}),e[126]=V,e[127]=X):X=e[127];let $;e[128]!==s.created_by?($=s.created_by&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["par ",s.created_by.name]}),e[128]=s.created_by,e[129]=$):$=e[129];let U;e[130]!==X||e[131]!==$?(U=t.jsxs("div",{children:[Be,X,$]}),e[130]=X,e[131]=$,e[132]=U):U=e[132];let W;e[133]!==s.approved_at||e[134]!==s.approved_by?(W=s.approved_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Approuvé"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.approved_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.approved_by&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["par ",s.approved_by.name]})]}),e[133]=s.approved_at,e[134]=s.approved_by,e[135]=W):W=e[135];let G;e[136]!==s.shipped_at?(G=s.shipped_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Expédié"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.shipped_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e[136]=s.shipped_at,e[137]=G):G=e[137];let J;e[138]!==s.delivered_at?(J=s.delivered_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Livré"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.delivered_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e[138]=s.delivered_at,e[139]=J):J=e[139];let K;e[140]!==s.received_at||e[141]!==s.received_by?(K=s.received_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Réceptionné"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.received_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.received_by&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["par ",s.received_by.name]})]}),e[140]=s.received_at,e[141]=s.received_by,e[142]=K):K=e[142];let Q;e[143]!==s.status?(Q=s.status==="rejected"&&t.jsx("div",{children:t.jsx("p",{className:"text-sm font-medium text-destructive",children:"Rejeté"})}),e[143]=s.status,e[144]=Q):Q=e[144];let Y;e[145]!==s.status?(Y=s.status==="cancelled"&&t.jsx("div",{children:t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Annulé"})}),e[145]=s.status,e[146]=Y):Y=e[146];let Z;e[147]!==U||e[148]!==W||e[149]!==G||e[150]!==J||e[151]!==K||e[152]!==Q||e[153]!==Y?(Z=t.jsxs(ue,{children:[Ie,t.jsx(fe,{className:"space-y-4",children:t.jsxs("div",{className:"ml-3 space-y-4 border-l-2 border-muted pl-4",children:[U,W,G,J,K,Q,Y]})})]}),e[147]=U,e[148]=W,e[149]=G,e[150]=J,e[151]=K,e[152]=Q,e[153]=Y,e[154]=Z):Z=e[154];let Oe;e[155]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsx(me,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-base",children:[t.jsx(dt,{className:"size-4"}),"Détails"]})}),e[155]=Oe):Oe=e[155];let ee;e[156]!==s.created_by?(ee=s.created_by&&t.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsx(dt,{className:"size-3.5"}),t.jsxs("span",{children:["Créé par ",s.created_by.name]})]}),e[156]=s.created_by,e[157]=ee):ee=e[157];let te;e[158]!==s.approved_by?(te=s.approved_by&&t.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsx(ct,{className:"size-3.5"}),t.jsxs("span",{children:["Approuvé par ",s.approved_by.name]})]}),e[158]=s.approved_by,e[159]=te):te=e[159];let se;e[160]!==s.received_by?(se=s.received_by&&t.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsx(tt,{className:"size-3.5"}),t.jsxs("span",{children:["Réceptionné par ",s.received_by.name]})]}),e[160]=s.received_by,e[161]=se):se=e[161];let re;e[162]!==s.vehicle?(re=s.vehicle&&t.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsx(et,{className:"size-3.5"}),t.jsx("span",{children:s.vehicle.name})]}),e[162]=s.vehicle,e[163]=re):re=e[163];let ae;e[164]!==s.created_at?(ae=new Date(s.created_at).toLocaleDateString("fr-FR"),e[164]=s.created_at,e[165]=ae):ae=e[165];let ie;e[166]!==ae?(ie=t.jsxs("div",{className:"text-muted-foreground",children:["Créé le ",ae]}),e[166]=ae,e[167]=ie):ie=e[167];let le;e[168]!==ee||e[169]!==te||e[170]!==se||e[171]!==re||e[172]!==ie?(le=t.jsxs(ue,{children:[Oe,t.jsxs(fe,{className:"space-y-3 text-sm",children:[ee,te,se,re,ie]})]}),e[168]=ee,e[169]=te,e[170]=se,e[171]=re,e[172]=ie,e[173]=le):le=e[173];let ne;e[174]!==Z||e[175]!==le?(ne=t.jsxs("div",{className:"space-y-6",children:[Z,le]}),e[174]=Z,e[175]=le,e[176]=ne):ne=e[176];let ce;e[177]!==O||e[178]!==ne?(ce=t.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[O,ne]}),e[177]=O,e[178]=ne,e[179]=ce):ce=e[179];let de;e[180]!==b||e[181]!==ce?(de=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[b,ke,ce]}),e[180]=b,e[181]=ce,e[182]=de):de=e[182];let oe;e[183]!==a||e[184]!==We||e[185]!==he?(oe=a&&t.jsx(yt,{open:!!a,onOpenChange:rt=>!rt&&l(null),children:t.jsxs(St,{children:[t.jsxs(Ct,{children:[t.jsx(zt,{children:we[a].title}),t.jsx(wt,{children:we[a].description})]}),t.jsxs(Dt,{children:[t.jsx(i,{variant:"outline",onClick:()=>l(null),disabled:he,children:"Annuler"}),t.jsx(i,{variant:we[a].variant,onClick:We,disabled:he,children:he?"Traitement…":we[a].button})]})]})}),e[183]=a,e[184]=We,e[185]=he,e[186]=oe):oe=e[186];let Ve;return e[187]!==$e||e[188]!==c||e[189]!==de||e[190]!==oe?(Ve=t.jsxs(Nt,{breadcrumbs:$e,children:[c,de,oe]}),e[187]=$e,e[188]=c,e[189]=de,e[190]=oe,e[191]=Ve):Ve=e[191],Ve}function Ot(r){return t.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.jsxs("span",{className:"font-medium",children:[r.label," :"]})," ",r.notes]},r.id)}function Vt(r){return r.notes}function Xt(r){return r.notes}function $t(r,e){return r+e.amount}function Ut(r){return t.jsxs("tr",{className:"border-b last:border-0",children:[t.jsx("td",{className:"py-2.5 font-medium",children:r.label}),t.jsx("td",{className:"py-2.5 text-muted-foreground",children:r.type}),t.jsx("td",{className:"py-2.5 text-right font-semibold",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(r.amount)})]},r.id)}function Wt(r){return t.jsxs("div",{className:"text-sm",children:[t.jsxs("span",{className:"font-medium",children:[r.product.name," :"]})," ",t.jsx("span",{className:"text-muted-foreground",children:r.discrepancy_note})]},r.id)}function Gt(r){return r.discrepancy_note}function Jt(r){return r.discrepancy_note}function Kt(r){const e=r.quantity_delivered,s=r.quantity_received,a=s!==null&&e!==null&&s!==e;return t.jsxs("tr",{className:"border-b last:border-0",children:[t.jsx("td",{className:"py-2.5 font-medium",children:r.product.name}),t.jsx("td",{className:"py-2.5 text-muted-foreground",children:r.product.code}),t.jsx("td",{className:"py-2.5 text-right font-semibold",children:r.quantity_requested}),t.jsx("td",{className:"py-2.5 text-right",children:e!==null?t.jsx("span",{className:"font-semibold text-primary",children:e}):t.jsx("span",{className:"text-muted-foreground",children:"—"})}),t.jsx("td",{className:"py-2.5 text-right",children:s!==null?t.jsxs("span",{className:`font-semibold ${a?"text-destructive":"text-primary"}`,children:[s,a&&t.jsx(mt,{className:"ml-1 inline size-3"})]}):t.jsx("span",{className:"text-muted-foreground",children:"—"})})]},r.id)}export{Ls as default};
