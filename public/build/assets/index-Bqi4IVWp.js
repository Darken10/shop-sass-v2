import{c as K,r as M,j as t,L as O,a as J,H as U}from"./app-DqdLS_po.js";import{x as Q,y as V,A as W,w as X}from"./app-layout-BY_z2l7K.js";import{B as F}from"./badge-DSvvMiB9.js";import{B as y}from"./button-DVQP8ugw.js";import{b as Y,c as Z}from"./card-z2brvHDy.js";import{D as ee,a as te,b as se,c as le,d as re,e as ie}from"./dialog-DIwoh3XE.js";import{S as ae}from"./separator-DGAiZpJH.js";import{P as $}from"./plus-fUC_Frcj.js";import{B as G}from"./box-5DCh-Wk2.js";import{T as ne}from"./triangle-alert-C1kSQOGD.js";import{T as oe}from"./trash-2-BLXb_zlu.js";/* empty css            */import"./index-CJ7mWlm-.js";import"./index-CxeexwSe.js";import"./index-oTu_XNBi.js";import"./Combination-CjQPbJWN.js";import"./index-BY9hahA7.js";import"./x-C_vLIVyO.js";import"./index-CSEUMRIG.js";import"./SaleController-CWOAsHby.js";import"./index-CHdNXJ1h.js";import"./index-B_e8Ugpt.js";import"./app-logo-icon-BquCEMUK.js";import"./building-2-q9KNC_Mq.js";import"./warehouse-CXlB-vPY.js";import"./store-B14O_uPo.js";import"./square-user-BhCGZFIc.js";import"./truck-D0hplmIV.js";const ce=[{title:"Dashboard",href:"/dashboard"},{title:"Stocks",href:X().url}];function Fe(r){const e=K.c(50),{stocks:s}=r,[i,b]=M.useState(null),[a,R]=M.useState(!1);let v;e[0]!==i?(v=function(){i&&(R(!0),J.delete(V(i.id).url,{onFinish:()=>{R(!1),b(null)}}))},e[0]=i,e[1]=v):v=e[1];const E=v;let _;e[2]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(U,{title:"Stocks"}),e[2]=_):_=e[2];let S,C;e[3]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-primary/10",children:t.jsx(G,{className:"size-5 text-primary"})}),C=t.jsx("h1",{className:"text-xl font-semibold",children:"Stocks en entrepôt"}),e[3]=S,e[4]=C):(S=e[3],C=e[4]);const H=s.total!==1?"s":"";let n;e[5]!==s.total||e[6]!==H?(n=t.jsxs("div",{className:"flex items-center gap-3",children:[S,t.jsxs("div",{children:[C,t.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.total," ligne",H," de stock"]})]})]}),e[5]=s.total,e[6]=H,e[7]=n):n=e[7];let D;e[8]===Symbol.for("react.memo_cache_sentinel")?(D=Q(),e[8]=D):D=e[8];let z;e[9]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(y,{asChild:!0,size:"sm",children:t.jsxs(O,{href:D.url,prefetch:!0,children:[t.jsx($,{className:"size-4"}),"Ajouter un stock"]})}),e[9]=z):z=e[9];let o;e[10]!==n?(o=t.jsxs("div",{className:"flex items-center justify-between",children:[n,z]}),e[10]=n,e[11]=o):o=e[11];let k;e[12]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(ae,{}),e[12]=k):k=e[12];let c;e[13]!==s.data?(c=s.data.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 rounded-xl border border-dashed py-20 text-center",children:[t.jsx(G,{className:"size-12 text-muted-foreground/40"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Aucun stock trouvé"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par enregistrer un stock dans un entrepôt."})]}),t.jsx(y,{asChild:!0,size:"sm",variant:"outline",children:t.jsxs(O,{href:Q().url,children:[t.jsx($,{className:"size-4"}),"Ajouter un stock"]})})]}):t.jsx(Y,{children:t.jsx(Z,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b bg-muted/40 text-left text-muted-foreground",children:[t.jsx("th",{className:"px-4 py-3 font-medium",children:"Produit"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Code"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Entrepôt"}),t.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Quantité"}),t.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Seuil alerte"}),t.jsx("th",{className:"px-4 py-3 text-center font-medium",children:"État"}),t.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:s.data.map(l=>t.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[t.jsx("td",{className:"px-4 py-3 font-medium",children:l.product.name}),t.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:l.product.code}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(F,{variant:"outline",children:l.warehouse.name})}),t.jsx("td",{className:"px-4 py-3 text-right font-semibold",children:l.quantity}),t.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:l.stock_alert}),t.jsx("td",{className:"px-4 py-3 text-center",children:l.quantity<=l.stock_alert?t.jsxs(F,{variant:"destructive",className:"gap-1",children:[t.jsx(ne,{className:"size-3"}),"Alerte"]}):t.jsx(F,{variant:"secondary",children:"Normal"})}),t.jsx("td",{className:"px-4 py-3 text-right",children:t.jsx(y,{variant:"ghost",size:"icon",className:"size-8 text-destructive hover:text-destructive",onClick:()=>b(l),children:t.jsx(oe,{className:"size-3.5"})})})]},l.id))})]})})})}),e[13]=s.data,e[14]=c):c=e[14];let m;e[15]!==s.last_page||e[16]!==s.links?(m=s.last_page>1&&t.jsx("div",{className:"flex items-center justify-center gap-1",children:s.links.map(me)}),e[15]=s.last_page,e[16]=s.links,e[17]=m):m=e[17];let d;e[18]!==c||e[19]!==m||e[20]!==o?(d=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[o,k,c,m]}),e[18]=c,e[19]=m,e[20]=o,e[21]=d):d=e[21];const L=!!i;let A;e[22]===Symbol.for("react.memo_cache_sentinel")?(A=l=>!l&&b(null),e[22]=A):A=e[22];let T;e[23]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(ee,{children:"Supprimer le stock"}),e[23]=T):T=e[23];const I=i?.product.name;let x;e[24]!==I?(x=t.jsx("strong",{children:I}),e[24]=I,e[25]=x):x=e[25];const P=i?.warehouse.name;let p;e[26]!==P?(p=t.jsx("strong",{children:P}),e[26]=P,e[27]=p):p=e[27];let u;e[28]!==x||e[29]!==p?(u=t.jsxs(te,{children:[T,t.jsxs(se,{children:["Êtes-vous sûr de vouloir supprimer le stock de ",x," dans"," ",p," ? Cette action est irréversible."]})]}),e[28]=x,e[29]=p,e[30]=u):u=e[30];let w;e[31]===Symbol.for("react.memo_cache_sentinel")?(w=()=>b(null),e[31]=w):w=e[31];let h;e[32]!==a?(h=t.jsx(y,{variant:"outline",onClick:w,disabled:a,children:"Annuler"}),e[32]=a,e[33]=h):h=e[33];const q=a?"Suppression…":"Supprimer";let f;e[34]!==E||e[35]!==a||e[36]!==q?(f=t.jsx(y,{variant:"destructive",onClick:E,disabled:a,children:q}),e[34]=E,e[35]=a,e[36]=q,e[37]=f):f=e[37];let j;e[38]!==h||e[39]!==f?(j=t.jsxs(le,{children:[h,f]}),e[38]=h,e[39]=f,e[40]=j):j=e[40];let g;e[41]!==u||e[42]!==j?(g=t.jsxs(re,{children:[u,j]}),e[41]=u,e[42]=j,e[43]=g):g=e[43];let N;e[44]!==L||e[45]!==g?(N=t.jsx(ie,{open:L,onOpenChange:A,children:g}),e[44]=L,e[45]=g,e[46]=N):N=e[46];let B;return e[47]!==d||e[48]!==N?(B=t.jsxs(W,{breadcrumbs:ce,children:[_,d,N]}),e[47]=d,e[48]=N,e[49]=B):B=e[49],B}function me(r,e){return t.jsx(y,{variant:r.active?"default":"outline",size:"sm",className:"min-w-9",disabled:!r.url,onClick:()=>r.url&&J.visit(r.url),dangerouslySetInnerHTML:{__html:r.label}},e)}export{Fe as default};
